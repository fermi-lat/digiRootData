package digiRootData
version v2r9

use GlastPolicy
use ROOT

apply_pattern packageShr

# this because reconRootData needs the LogId extraction operator
apply_pattern  package_linkopts

# temporarily re-introduce this patter to be sure bfemApp will run on linux
apply_pattern ld_library_path

# For some reason, I was getting errors when loading the digiRootData shareable
# in root.  Linking the Root Physics library in avoids this.
macro digiRootData_shlibflags " -L${ROOT_PATH}/lib -lPhysics -lMatrix " \
      VisualC            " ${use_linkopts} "
#-------------------------------------------------------
private

# For Windows, use a setup script to run rootcint automatically
# Still using document generator for UNIX
setup_script dorootcint

# Create the Root Cint classes on UNIX
macro root_headers "AcdHeader.h AcdId.h AcdTile.h CalDigi.h CalHeader.h CalLog.h CalLogId.h CalLogReadout.h ESAPID.h DigiEvent.h L1T.h LiveTime.h LogId.h StripId.h SubSystemHeader.h Tagger.h TkrHeader.h TkrLayer.h EventLinkDef.h"

# on unix use a document to make rootcint part of the build process
make_fragment event_dorootcint_header
make_fragment event_dorootcint -header=event_dorootcint_header
document event_dorootcint EventRootCint CINTFILE=../digiRootData/EventCint.cxx


apply_pattern package_include
apply_pattern package_headers

library  digiRootData *.cxx \
      ../digiRootData/*.cxx \
      ${digiRootData_headers}
