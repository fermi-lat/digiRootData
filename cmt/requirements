package digiRootData
version v3r0

use GlastPolicy v4r*
use ROOT v3r*

apply_pattern package_include

apply_pattern package_headers

apply_pattern  package_linkopts

apply_pattern ld_library_path

#-------------------------------------------------------
private

# For Windows, use a setup script to run rootcint automatically
# Still using document generator for UNIX
setup_script dorootcint

# Create the Root Cint classes on UNIX
#macro root_headers "AcdHeader.h AcdId.h AcdTile.h CalDigi.h CalHeader.h
CalXtalId.h CalXtalReadout.h DigiEvent.h L1T.h LiveTime.h StripId.h SubSystemHeader.h TkrHeader.h TkrLayer.h EventLinkDef.h"
macro root_headers "CalDigi.h CalXtalId.h CalXtalReadout.h DigiEvent.h EventLinkDef.h"

# on unix use a document to make rootcint part of the build process
make_fragment event_dorootcint_header
make_fragment event_dorootcint -header=event_dorootcint_header
document event_dorootcint EventRootCint CINTFILE=../digiRootData/digiRootDataCint.cxx


macro digiRootData_shlibflags " " \
      VisualC            " ${use_linkopts} "


library  digiRootData \
      DigiEvent.cxx CalDigi.cxx CalXtalReadout.cxx CalXtalId.cxx \
      ../digiRootData/*.cxx \
      ${digiRootData_headers}

macro test_digiRootDatalinkopts ${digiRootData_shlibflags}
application test_digiRootData test/testDigiClasses.cxx
