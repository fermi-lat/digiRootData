package digiRootData
version v1r1p2

use GlastPolicy
use ROOT


#ignore_pattern include_none
apply_pattern package_include

apply_pattern package_linkopts

apply_pattern ld_library_path

apply_pattern package_headers

private

# For Windows, use a setup script to run rootcint automatically
# Still using document generator for UNIX
setup_script dorootcint

# Create the Root Cint classes
macro root_headers "ACDTile.h CalHit.h ESAPID.h Event.h L1T.h LogID.h StripID.h Tagger.h TileID.h TkrLayer.h EventLinkDef.h"

# try to build this by adding to compilation for requirements
macro digiRootData_customBuild ""\
      VisualC "call $(DIGIROOTDATAROOT)/digiRootData/dorootcint.bat"

# on unix use a document to make rootcint part of the build process
make_fragment event_dorootcint_header
make_fragment event_dorootcint -header=event_dorootcint_header
document event_dorootcint EventRootCint CINTFILE=../digiRootData/EventCint.cxx


# For some reason, I was getting errors when loading the digiRootData shareable
# in root.  Linking the Root Physics library in avoids this.
macro digiRootData_shlibflags " -L${ROOT_PATH}/lib -lPhysics -lMatrix " \
      VisualC            " ${use_linkopts} "


# I think this is still ok?
library  digiRootData *.cxx \
     ../digiRootData/*.cxx\
     ${digiRootData_headers}

